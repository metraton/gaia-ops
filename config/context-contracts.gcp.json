{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "version": "2.0.0",
  "cloud_provider": "gcp",
  "description": "Context contracts for GCP-based projects",
  "last_updated": "2025-11-10",

  "agents": {
    "terraform-architect": {
      "contract_version": "1.0",
      "required": [
        "project_details.project_id",
        "project_details.region",
        "project_details.environment",
        "terraform_infrastructure.layout.base_path",
        "terraform_infrastructure.provider_credentials.gcp",
        "operational_guidelines.commit_standards"
      ],
      "optional": [
        "terraform_infrastructure.layout.modules_path",
        "terraform_infrastructure.layout.environments_path",
        "terraform_infrastructure.state.backend_type",
        "terraform_infrastructure.state.backend_config"
      ]
    },

    "gitops-operator": {
      "contract_version": "1.0",
      "required": [
        "project_details.project_id",
        "project_details.region",
        "project_details.cluster_name",
        "gitops_configuration.repository.path",
        "gitops_configuration.flux_details",
        "cluster_details.namespaces",
        "operational_guidelines.commit_standards"
      ],
      "optional": [
        "gitops_configuration.repository.remote_url",
        "gitops_configuration.repository.branch",
        "cluster_details.ingress_class",
        "cluster_details.workload_identity_enabled",
        "application_services"
      ]
    },

    "gcp-troubleshooter": {
      "contract_version": "1.0",
      "required": [
        "project_details.project_id",
        "project_details.region",
        "terraform_infrastructure.layout.base_path",
        "gitops_configuration.repository.path"
      ],
      "optional": [
        "project_details.cluster_name",
        "application_services",
        "infrastructure_topology"
      ]
    },

    "devops-developer": {
      "contract_version": "1.0",
      "required": [
        "project_details.project_id",
        "project_details.environment",
        "operational_guidelines.commit_standards"
      ],
      "optional": [
        "application_services",
        "development_standards"
      ]
    }
  },

  "field_mappings": {
    "project_details.project_id": {
      "description": "GCP Project ID",
      "example": "aaxis-rnd-non-prod",
      "type": "string",
      "source": "metadata.project_id or sections.project_details.project_id"
    },
    "project_details.region": {
      "description": "Primary GCP region",
      "example": "us-central1",
      "type": "string"
    },
    "project_details.cluster_name": {
      "description": "GKE cluster name",
      "example": "non-prod-rnd-gke",
      "type": "string"
    },
    "terraform_infrastructure.provider_credentials.gcp": {
      "description": "GCP authentication configuration",
      "type": "object",
      "fields": {
        "project": "GCP project ID",
        "region": "Default region",
        "credentials_path": "Path to service account JSON (optional)"
      }
    },
    "cluster_details.workload_identity_enabled": {
      "description": "Whether GKE Workload Identity is enabled",
      "type": "boolean",
      "default": true
    }
  }
}